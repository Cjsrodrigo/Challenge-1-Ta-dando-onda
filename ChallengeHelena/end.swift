//
//  end.swift
//  ChallengeHelena
//
//  Created by Aluno 44 on 06/03/25.
//

import Foundation

let theEnd =
"""

+==========================================================+
|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—|
|â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘|
|   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘|
|   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ•â•|
|   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—|
|   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•    â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â• â•šâ•â•|
+==========================================================+


"""

let start = """
( ___ )----------------------------------------------( ___ )
|   |                                                |   |
|   |  ######  ########    ###    ########  ######## |   |
|   | ##    ##    ##      ## ##   ##     ##    ##    |   |
|   | ##          ##     ##   ##  ##     ##    ##    |   |
|   |  ######     ##    ##     ## ########     ##    |   |
|   |       ##    ##    ######### ##   ##      ##    |   |
|   | ##    ##    ##    ##     ## ##    ##     ##    |   |
|   |  ######     ##    ##     ## ##     ##    ##    |   |
|___|                                                |___|
(_____)----------------------------------------------(_____)
"""

let youLose =
"""
( ___ )-------------------------------------------------------------------------( ___ )
 |   |                                                                           |   |
 |   | ##    ##  #######  ##     ##    ##        #######   ######  ######## #### |   |
 |   |  ##  ##  ##     ## ##     ##    ##       ##     ## ##    ## ##       #### |   |
 |   |   ####   ##     ## ##     ##    ##       ##     ## ##       ##       #### |   |
 |   |    ##    ##     ## ##     ##    ##       ##     ##  ######  ######    ##  |   |
 |   |    ##    ##     ## ##     ##    ##       ##     ##       ## ##            |   |
 |   |    ##    ##     ## ##     ##    ##       ##     ## ##    ## ##       #### |   |
 |   |    ##     #######   #######     ########  #######   ######  ######## #### |   |
 |___|                                                                           |___|
(_____)-------------------------------------------------------------------------(_____)



"""

let win =
"""


 _____                                                           _____
( ___ )---------------------------------------------------------( ___ )
 |   |                                                           |   |
 |   | ########  ####  ######      ##      ## #### ##    ## #### |   |
 |   | ##     ##  ##  ##    ##     ##  ##  ##  ##  ###   ## #### |   |
 |   | ##     ##  ##  ##           ##  ##  ##  ##  ####  ## #### |   |
 |   | ########   ##  ##   ####    ##  ##  ##  ##  ## ## ##  ##  |   |
 |   | ##     ##  ##  ##    ##     ##  ##  ##  ##  ##  ####      |   |
 |   | ##     ##  ##  ##    ##     ##  ##  ##  ##  ##   ### #### |   |
 |   | ########  ####  ######       ###  ###  #### ##    ## #### |   |
 |___|                                                           |___|
(_____)---------------------------------------------------------(_____)


"""

let haha =
"""


 _____                                                                                                                                                                   _____
( ___ )-----------------------------------------------------------------------------------------------------------------------------------------------------------------( ___ )
 |   |                                                                                                                                                                   |   |
 |   | ##     ##  #######   ######  ########    ######## ##     ##    ##     ## ##     ##    ######## ########     ###     ######     ###     ######   ######   #######  |   |
 |   | ##     ## ##     ## ##    ## ##          ##       ##     ##    ##     ## ###   ###    ##       ##     ##   ## ##   ##    ##   ## ##   ##    ## ##    ## ##     ## |   |
 |   | ##     ## ##     ## ##       ##          ##       ##     ##    ##     ## #### ####    ##       ##     ##  ##   ##  ##        ##   ##  ##       ##       ##     ## |   |
 |   | ##     ## ##     ## ##       ######      ######   #########    ##     ## ## ### ##    ######   ########  ##     ## ##       ##     ##  ######   ######  ##     ## |   |
 |   |  ##   ##  ##     ## ##       ##          ##       ##     ##    ##     ## ##     ##    ##       ##   ##   ######### ##       #########       ##       ## ##     ## |   |
 |   |   ## ##   ##     ## ##    ## ##          ##       ##     ##    ##     ## ##     ##    ##       ##    ##  ##     ## ##    ## ##     ## ##    ## ##    ## ##     ## |   |
 |   |    ###     #######   ######  ########    ######## ##     ##     #######  ##     ##    ##       ##     ## ##     ##  ######  ##     ##  ######   ######   #######  |   |
 |___|                                                                                                                                                                   |___|
(_____)-----------------------------------------------------------------------------------------------------------------------------------------------------------------(_____)

"""

func end(){
    
    print("O que garantiu a sua tÃ£o sonhada classificaÃ§Ã£o para o Makai foi a manobra final, a que ela aprendeu durante esse Ãºltimo ano de treinamento. Era isto. Ela tinha sido selecionada. Ela iria para o Hawaii. Teria 6 meses para treinar atÃ© o Makai.\n")

    keepGoing()
    
    print("Chega o momento do tÃ£o esperado Campeonato (Makai). As memÃ³rias de dias inteiros de treino, sua histÃ³ria e desafios enfrentados se manifestam na mente da atleta. Mesmo com todos os anos de preparaÃ§Ã£o, \(mainName!) sente calafrios e o coraÃ§Ã£o batendo, como se fossem suas primeiras aulas de surf.\n")

    keepGoing()

    print("O clima do Hawaii Ã© algo surpreendente, ondas enormes, ventos arrasadores, \(mainName!) definitivamente nÃ£o estava na sua zona de conforto, foi aÃ­ que ela percebeu que estava muito longe de casa.\n")

    print("Escolha o nome de sua maior rival\n")
    rivalName = readLine()
    print("")
    print("LÃ¡, ela conhece sua rival de categoria \(rivalName!), atleta dos EUA, residente das Ã¡guas havaianas, junto Ã  sua equipe completa de assistentes e patrocinadores.")
    sleep(2)
    print("Nesse momento, \(mainName!) vÃª todo o suporte que \(rivalName!) recebe e se dÃ¡ conta de como as suas realidades foram diferentes: enquanto \(mainName!) passou a vida tendo que conciliar seu sonho com inÃºmeras outras questÃµes, sua rival teve o privilÃ©gio de se preparar com os melhores profissionais, usufruir sempre de materiais de excelÃªncia, alÃ©m de poder se dedicar ao esporte sem outras preocupaÃ§Ãµes.\n")

    keepGoing()

    print("O sol nasce, o grande dia chegou, \(mainName!) se prepara e organiza seus equipamentos para o momento decisivo, como Ãºltimo cuidado antes da prova, a personagem decide reforÃ§ar a parafina de sua prancha, a fim de estar melhor preparada e evitar eventuais contratempos. \(rivalName!) vÃª a atleta se preparando, se dando conta que esqueceu de levar sua prÃ³pria parafina e por jÃ¡ estarem na fase preparaÃ§Ã£o prÃ© competiÃ§Ã£o, ela simplesmente nÃ£o pode sair da Ã¡rea do campeonato para comprar mais, seria trapaÃ§a.")
    print("Com isto, \(rivalName!) pergunta para \(mainName!) se poderia usar a dela:")
    print("")
    print("1: \(mainName!) se empatiza com a rival, lembrando das prÃ³prias dificuldades que passou para estar lÃ¡, dividindo a parafina, mostrando sua humildade e boa aspiraÃ§Ã£o como atleta e competidora.")
    print("2: \(mainName!) aproveita a oportunidade e se vÃª em uma situaÃ§Ã£o de vantagem contra \(rivalName!). NÃ£o dividindo a parafina, a fim de prejudicar a norte-americana.")

    choice = choose(2)

    if choice == "1" {
        ////interacao partida

        print("Voce tera 5 segundos para teclar A 10 vezes")
        sleep(4)
        history()
    } else if choice == "2" {
        print("\(mainName!) passa dificuldades durante sua prova, a parafina estava vencida, fazendo com que a mesma tome um caldo, caia e se desclassifique do torneio.")
        print(haha)
        print(theEnd)
    }
    RunLoop.current.run()
}

func verifyScore() {
  queue2.addOperation {
    sleep(5)
    running = false
    let result = count

      printQueue.addOperation {
    if result < 10 {
      
        print("ELIMINADA \n\n Pontos:\(result)")
        print("Infelizmente, \(mainName!) nÃ£o conseguiu vencer desta vez. Mas sonhos nunca morrem, iria continuar tentando nos prÃ³ximos anos. AlÃ©m disso, ela estava feliz por onde tinha chegado atÃ© entÃ£o e pelos aprendizados durante a jornada.")
        if aposta == false {
            print("\(mainName!) se recorda do dinheiro que seu pai deixou e sabe que, apesar de nÃ£o vencer a competiÃ§Ã£o, \(dadName!) se orgulharia em saber de como se dedicou em sua jornada.")
        } else{
            if milionaria == 1 {
                print("\(mainName!) se recorda de quando usou o dinheiro do tigrinho para ajudar os necessitados e sabe que, mesmo nÃ£o saindo vitoriosa, ajudou muitas pessoas com o seu dinheiro.")
            } else if milionaria == 2 {
                    print("\(mainName!) se lembra de quando recebeu o dinheiro de seu pai e investiu fortemente em seu sonho e sabe que ele ficaria orgulhoso de seu esforÃ§o.")
            } else{ print("\(mainName!) se lembra de quando perdeu todo o dinheiro no jogo do tigrinho e se sente culpada por perder o dinheiro que seu pai deixou para seguir seu sonho e ainda sair derrotada")}
        }
      } else {
        print("Classificada!! ğŸ„â€â™€ï¸ Pontos: \(result)")
        print("\(mainName!) passa por sua prova desafiadora e vence o campeonato, lembrando da sua Ã¡rdua jornada e as memÃ³rias com seu pai.")
        if aposta == false {
            print("\(mainName!) se recorda do dinheiro que seu pai deixou e sabe que administrou bem para realizar seu sonho.")
        } else{
            if milionaria == 1 {
                print("\(mainName!) se recorda de quando usou o dinheiro do tigrinho para ajudar os necessitados e percebe que nÃ£o era necessÃ¡rio grandes fortunas para realizar seu sonho, alÃ©m de se orgulhar muito de como mudou a vida das pessoas.")
            } else if milionaria == 2 {
                    print("\(mainName!) se lembra de quando recebeu o dinheiro de seu pai e investiu fortemente em seu sonho e sabe que ele ficaria orgulhoso de tudo que conseguiu conquistar")
            } else{ print("Ela se lembra de quando perdeu todo o dinheiro no jogo do tigrinho e se dÃ¡ conta de quantos obstÃ¡culos teve que superar para realizar seu sonho.")
                }
            }
        }
        print(theEnd)
        }
    }
    count = 0
}


func history() {
  queue1.addOperation {
    printQueue.addOperation {
      print(start)
    }

    verifyScore()
    DispatchQueue.global(qos: .background).async {
    while running {
      if let line = readLine() {
        if line == "a" {
          count = count + 1
                }
            }
        }
    }
  }
}
